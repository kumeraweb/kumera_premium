---
import BaseLayout from '../../layouts/BaseLayout.astro'

const CURRENT_STAGE = 3
const STEPS = [
  'Inicio del proyecto',
  'Diseño web',
  'Revisión diseño v1',
  'Ajustes post revisión',
  'Diseño final aprobado',
  'Desarrollo del sitio',
  'Publicación en hosting y dominio',
  'Configuración Google Ads',
  'Capacitación y entrega final'
]

const project = {
  client: 'Ana María',
  title: 'Sitio web institucional – Estudio Jurídico',
  description:
    'Diseño y desarrollo de sitio web profesional orientado a captación de clientes y posicionamiento en Google.',
  steps: STEPS,
  currentStep: CURRENT_STAGE,
  status: CURRENT_STAGE < STEPS.length - 1 ? 'En progreso' : 'Finalizado',
  lastUpdate: '2026-01-20',
  nextAction:
    CURRENT_STAGE === 2 ? 'Revisión del diseño v1 y envío de observaciones' : 'En ejecución'
}
---

<BaseLayout title={`${project.title} | Kümera`} description={project.description} noindex={true}>
  <section class="bg-gradient-to-b from-black to-brand text-white">
    <div class="mx-auto max-w-3xl px-6 py-16 md:py-24">
      <span class="inline-flex rounded-full bg-white/10 px-4 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-white/80">
        {project.status}
      </span>
      <h1 class="mt-4 font-['Space_Grotesk'] text-3xl tracking-tight md:text-4xl">{project.title}</h1>
      <p class="mt-3 text-sm text-white/70 md:text-base">{project.description}</p>

      <div class="mt-8 grid gap-4 rounded-[18px] border border-white/10 bg-white/5 p-8 text-sm text-white/70 md:grid-cols-2">
        <div>
          <span class="text-xs uppercase tracking-[0.2em] text-white/50">Cliente</span>
          <p class="mt-1 font-semibold text-white">{project.client}</p>
        </div>
        <div>
          <span class="text-xs uppercase tracking-[0.2em] text-white/50">Última actualización</span>
          <p class="mt-1 font-semibold text-white">{project.lastUpdate}</p>
        </div>
        <div>
          <span class="text-xs uppercase tracking-[0.2em] text-white/50">Etapa actual</span>
          <p class="mt-1 font-semibold text-white">
            {project.steps[project.currentStep]}
          </p>
        </div>
        <div>
          <span class="text-xs uppercase tracking-[0.2em] text-white/50">Próxima acción</span>
          <p class="mt-1 font-semibold text-white">{project.nextAction}</p>
        </div>
      </div>

      <div class="mt-8 space-y-4">
        {project.steps.map((step, index) => {
          const isDone = index < project.currentStep
          const isActive = index === project.currentStep
          const base =
            'flex items-start gap-4 rounded-[18px] border px-4 py-3 text-sm transition'
          const state = isActive
            ? 'border-white bg-white/10'
            : isDone
              ? 'border-white/10 bg-white/5 text-white/60'
              : 'border-white/10 bg-transparent text-white/70'

          return (
            <div class={`${base} ${state}`}>
              <span
                class={`mt-1 inline-flex h-3 w-3 flex-shrink-0 rounded-full ${
                  isActive || isDone ? 'bg-accent' : 'bg-white/20'
                }`}
              />
              <div>
                <p class="font-medium text-white">{step}</p>
                <small class="text-xs text-white/60">
                  {isActive ? 'En progreso' : isDone ? 'Completado' : 'Pendiente'}
                </small>
              </div>
            </div>
          )
        })}
      </div>
    </div>
  </section>
</BaseLayout>
